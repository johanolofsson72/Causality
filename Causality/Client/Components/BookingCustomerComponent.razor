@page "/customer/{Id:int}"

<div class="irx-tabcontainer">
    <h5>Customer</h5>
    <TelerikTabStrip TabPosition="TabPosition.Top" @ref="myTabStrip">
        <TabStripTab Title="@(IsMedium ? "Personal info" : (IsSmall ? "Personal" : "Personal information"))">
            <BookingCustomerPersonalComponent NotifyParent="Notify" BookingCustomerId="@Id" />
        </TabStripTab>
        <TabStripTab Title="@(IsMedium ? "Boats info" : (IsSmall ? "Boats" : "Boats information"))">
            <BookingCustomerBoatsComponent NotifyParent="Notify" BookingCustomerId="@Id" />
        </TabStripTab>
        <TabStripTab Title="@(IsMedium ? "Moorings info" : (IsSmall ? "Moorings" : "Moorings information"))">
            <BookingCustomerMooringsComponent NotifyParent="Notify" BookingCustomerId="@Id" />
        </TabStripTab>
        <TabStripTab Title="@(IsMedium ? "Queues info" : (IsSmall ? "Queues" : "Queues information"))">
            <BookingCustomerQueuesComponent NotifyParent="Notify" BookingCustomerId="@Id" />
        </TabStripTab>
    </TelerikTabStrip>

    <MediaQuery Media="@Breakpoints.OnlyMedium" @bind-Matches="IsMedium" />
    <MediaQuery Media="@Breakpoints.SmallDown" @bind-Matches="IsSmall" />

    <div class="notification-parent">
        <TelerikNotification @ref="NotificationComponent"
                             Class="demo-notification"
                             HorizontalPosition="@NotificationHorizontalPosition.Right"
                             VerticalPosition="@NotificationVerticalPosition.Bottom">
        </TelerikNotification>
    </div>
</div>

@code
{
    protected TelerikNotification NotificationComponent { get; set; }

    public async void Notify(Dictionary<string, string> parameters)
    {
        await Task.Delay(0);
        NotificationComponent.Show(new NotificationModel
        {
            Text = parameters["text"],
            ThemeColor = parameters["theme"],
            CloseAfter = 5000
        });
    }

    protected bool IsMedium = false;
    protected bool IsSmall = false;

    TelerikTabStrip myTabStrip;

    [Parameter]
    public int Id { get; set; }
}
